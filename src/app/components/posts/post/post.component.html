<app-loading-indicator [isLoading]="isLoading"></app-loading-indicator>

@if (!isLoading && post) { @if(post.url_title){
<div class="page-description-container">
  <div class="page-description-content">
    <app-page-title [titleSize]="2">ðŸ”— {{ post.url_title }}</app-page-title>
  </div>
</div>
}
<div class="post">
  <div class="post-summary">
    @if(isAbove()){
    <p>
      {{ post.content }}
    </p>
    } @if (post.images && post.images.length > 0) {
    <div class="post-image-container">
      <img
        #imageElement
        [src]="post.images[0].image_url"
        [alt]="post.images[0].alt_text"
        [class]="getImageClass()"
        (click)="toggleModal(post, true)" />
      @if (post.images.length > 1 && imageLoaded) {
      <span class="image-count">{{ post.images.length }}</span>
      }
      <app-modal
        [post]="post.modalImage"
        [isVisible]="post.isModalVisible"
        (onClose)="toggleModal(post, false)"></app-modal>
    </div>
    } @if (post.url) {
    <p>
      <a [href]="post.url" target="_blank">
        {{ post.url_title }}
        <i class="fa-solid fa-arrow-up-right-from-square"></i>
      </a>
    </p>
    } @if(!isAbove()){
    <p>
      {{ post.content }}
    </p>
    }
    <app-date-display [dateToDisplay]="post.posted_at" labelText="Posted on:"></app-date-display>
    <div class="post-end">
      <img class="post-end-img" src="/assets/rar-face-small.png" />
    </div>
  </div>
</div>
<app-social-media-discussion
  [postType]="postType"
  [showContent]="false"
  [discussionId]="post.time_stamp"></app-social-media-discussion>
<div class="back-to-posts-link">
  <a [routerLink]="['/' + getPageForPost()]">&#x2190; Back to {{ getBackText() }}</a>
</div>
}
