<div class="modal" *ngIf="isVisible && post" (click)="close($event)">
  <div class="modal-content">
    <div class="modal-header">
      <span class="close" (click)="close($event)"><i class="fa-solid fa-x closing-x"></i></span>
    </div>
    <h2>{{ post.title }}</h2>
    <div class="image-container">
      <img
        class="gallery-image"
        [src]="post.images[imgIndex].url"
        alt="{{ post.images[imgIndex].description }}" />
      <button
        class="arrow-button left"
        *ngIf="isDirectionEnabled(imgIndex - 1)"
        (click)="changeImage(imgIndex - 1)">
        <i class="fa-solid fa-arrow-left"></i>
      </button>
      <button
        class="arrow-button right"
        *ngIf="isDirectionEnabled(imgIndex + 1)"
        (click)="changeImage(imgIndex + 1)">
        <i class="fa-solid fa-arrow-right"></i>
      </button>
      <div class="image-position-indicators" *ngIf="post.images.length > 1">
        <svg
          height="30"
          width="30"
          *ngFor="let circle of post.images; let circleIndex = index"
          (click)="changeImage(circleIndex)">
          <circle
            class="image-position-circle"
            [attr.class]="
              circleIndex === imgIndex ? 'image-position-circle current' : 'image-position-circle'
            "
            cx="20"
            cy="20"
            r="4"
            stroke="white"
            stroke-width="2" />
        </svg>
      </div>
    </div>
    <div class="image-description" [innerHTML]="post.content">{{ post.content }}</div>
    <div class="image-footer">
      <app-date-display [dateToDisplay]="post.date"></app-date-display>
      <a target="_blank" [href]="post.url">
        View on {{ post.sourceSiteName }}
        <i class="fa-solid fa-arrow-up-right-from-square"></i>
      </a>
    </div>
  </div>
</div>
